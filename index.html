<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css" />
    <title>Recipes</title>
    <script>

// This section counts the number of rounds.
let round = 0;
let userScore = 0;
let computerScore = 0;
let maxRounds = 0;

function rounds() {
  round++;
  maxRounds++;
  document.querySelector("#round").innerHTML = round;
  // template literal
  if (maxRounds < 3) {
    if (round === 3) {
      // plug in the value of round
      //alert(`Count is now ${round}`); // add declare winner
      if (computerScore > userScore && computerScore === 2) {
        document.querySelector("#roundWinner").innerHTML = "Computer Wins!";
        // alert("Computer Wins the Game");
      } else if (userScore > computerScore && userScore === 2) {
        document.querySelector("#roundWinner").innerHTML = "You Win!";
        // alert("You Win!");
      } else {
        document.querySelector("#roundWinner").innerHTML = "Stalemate!";
        // alert("Nobody won.");
      }

      return false;
    }
  }
}

function getComputerScore() {
  computerScore++;
  document.querySelector("#computerScore").innerHTML = computerScore;
  //   console.log(computerScore);
  if (computerScore === 5) {
    computerScore = 5;
    // console.log("Computer Wins the Game")
    confirm("Computer Score: 5 Points! Computer Wins the Game!");
    location.reload();
  }
}

function getUserScore() {
  userScore++;
  document.querySelector("#userScore").innerHTML = userScore;
  // console.log(userScore);
  if (userScore === 5) {
    userScore = 5;
    // console.log("You Win the Game!")
    confirm("User Score: 5 Points! You Win the Game!");
    location.reload();
  }
}

function getRoundWinner(user, computer) {
  let computerWins = false;
  let userWins = false;

  if (user === "Rock" && computer === "Paper") {
    document.querySelector("#winner").innerHTML =
      "Paper covers rock. Computer wins round.";
    // console.log("Paper covers rock. Computer wins round.");
    computerWins = true;
  } else if (user === "Paper" && computer === "Rock") {
    document.querySelector("#winner").innerHTML =
      "Paper covers rock. You win this round!";
    // console.log("Paper covers rock. You win this round!");
    userWins = true;
  } else if (user === "Paper" && computer === "Scissors") {
    document.querySelector("#winner").innerHTML =
      "Scissors cut paper. Computer wins round.";
    // console.log("Scissors cut paper. Computer wins round.");
    computerWins = true;
  } else if (user === "Scissors" && computer === "Paper") {
    document.querySelector("#winner").innerHTML =
      "Scissors cut paper. You win this round!";
    // console.log("Scissors cut paper. You win this round!");
    userWins = true;
  } else if (user === "Scissors" && computer === "Rock") {
    document.querySelector("#winner").innerHTML =
      "Rocks crush scissors. Computer wins round.";
    console.log("Rocks crush scissors. Computer wins round.");
    computerWins = true;
  } else if (user === "Rock" && computer === "Scissors") {
    document.querySelector("#winner").innerHTML =
      "Rock crushes scissors. You win this round!";
    // console.log("Rock crushes scissors. You win this round!");
    userWins = true;
  } else {
    document.querySelector("#winner").innerHTML = "Tie!";
    // console.log("Tie!");
  }

  if (userWins === true) {
    getUserScore();
  } else if (computerWins === true) {
    getComputerScore();
  }
}

document.addEventListener("DOMContentLoaded", function () {
  // This section changes the user move
  document.querySelectorAll(".userMove").forEach(function (button) {
    // this is the game function
    button.onclick = function () {
      let userMove = button.dataset.move;
      // console.log(userMove);
      let moves = ["Rock", "Paper", "Scissors"];
      let computerMove = moves[Math.floor(Math.random() * moves.length)];
      // console.log(computerMove);

      console.log(userMove, computerMove);

      getRoundWinner(userMove, computerMove);
      rounds();
    };
  });
});


    </script>


<body>
 <h1>Rock Paper Scissors</h1>
 <h3 id="userMove">Make Your Move</h3>
 <button class="userMove" data-move="Rock">Rock</button>
 <button class="userMove" data-move="Paper">Paper</button>
 <button class="userMove" data-move="Scissors">Scissors</button>
 <br>
 <p>Your Score | <span id="userScore">0</span></p>
 <p>Computer Score | <span id="computerScore">0</span></p>
 <p><strong>Round </strong><span id="round"> </span> | <span id="winner"> </span></p>
 
 <h3 id="roundWinner"> </h3>
 <h3 id="gameWinner"> </h3>
 </head>
</body>
</html>